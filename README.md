# OPENMOVER

> 基于ROS的开源AGV机器人底盘

## 项目初衷

一切的源头来源于一个疑问：**有没有能陪伴我们从入门学习ROS到场景实际使用的机器人底盘开发项目？**

当我们打开淘宝浏览机器人底盘时，可以看到诸多基于树莓派和Jetson的小型ROS机器人底盘，也不乏体积庞大的工业级搬运底盘，前者往往只能陪伴我们度过最开始的学习开发，往往其结构与硬件绑定公司其他相关产品，因而我们在学习时的知识体系并不完善，需要我们之后单独学习底盘的结构设计以及电气控制部分；后者则往往不开放让我们进行学习开发的接口，结构上较为复杂且难以拆卸，往往其主控中的系统也并非基于ROS框架……

后来，带着上面的疑问我们开始围绕机器人底盘进行探索性的开发，我们一直在探索着如何保证低成本地简化工业底盘结构，如无必要勿增实体的思想指导着我们避免市面上的ROS机器人底盘为追求低成本和高销量而做出的无用设计，让结构尽可能简单；电气控制上尽可能简化到以模块为主，借鉴市面上的控制底盘没有冗余设计的教训，同时给容易坏、难设计的电源芯片、电机控制等部分预留更换可能，可能避免初学者因底盘的设计以及器件的偶尔损耗维修消磨兴趣……

再后来，我们在结合前面的诸多教训的基础上推出了OPENMOVER这个项目，希望能以这个项目来总结我们在前面探索机器人底盘设计中的经验与教训，将完整的机器人底盘设计思路提供给有意向探索机器人设计与应用的初学者，我们并非希望他们能避开机器人开发学习中的问题，只是更希望他们能在之后的开发设计中遇到问题时能对三个维度展开思考：我们的机器人要完成什么任务？为完成任务需要具备什么能力？为实现该能力，我的结构、硬件、软件设计有几种思路？

机器人的设计本质也是基于人的需要，设计一套复杂的系统并非我们的项目初衷，我们不愿意看到初学者迷失于技术之中，为自己贴上结构、硬件、软件开发的标签，而是去思考当我们作为用户去使用这套机器人时，我们希望得到什么？

当然啦，作为初版的设计者，我们希望这套机器人底盘足够简单可靠，能装上机械臂、举升平台、工程巡检设备等，能在不对结构进行较大改变的情况下拓展足够多的应用场景，从教学中应用到我们的实际业务场景中去，当然，我们的探索还在继续……

本项目遵循[Apache-2.0 license](https://github.com/wuyaolinglab/openmover#)协议



## 整体结构设计

更新时间24.1.22，版本1.0

### 1.0版本

设计导图文件可点击[这里查看](https://github.com/wuyaolinglab/openmover/tree/main/相关图片/1.0版结构与主控设计导图.png)

原型车图片可点击[这里查看](https://github.com/wuyaolinglab/openmover/tree/main/相关图片/1.0原型机)

1.0初版整车尺寸300x320xmm，整体结构采用双差速轮+四从动万向轮的结构，差速轮选用微雪DDSM115直驱伺服轮毂电机，四万向轮理论合计承重最高50KG

初版在外观结构上主要参考了海康威视AGV中的Q2系列LMR潜伏式机器人，并针对原有结构提出如下简化改进以及设计需要：

1. 主轮悬挂：主动轮添加悬挂结构，以保证整车在平地的路面适应能力以及运动性能
2. 雷达视野：初版使用蓝海LDS-50C-C30E单线TOF激光雷达，增大单线雷达的可视范围，减少结构上的遮挡角度范围
3. 较小尺寸：减小整车的尺寸，尽可能控制在320*320mm以内
4. 分层设计：保证整车的拓展能力，采用分层结构设计，底盘与可拓展部分为松耦合关系
5. 底盘布局：预留底盘内部拓展空间，方便理线与拓展元件
6. 电池限位：因供电需要至少4S电池组供电，尽可能在结构中加入单独的电池仓以防止电池固定不稳引发的安全问题
7. 负载能力：为保证整车的负载能力，底盘整体应尽可能考虑到受力均匀给到四个万向轮

我们提供了多种雷达的安装孔位，我们原型车使用到的是蓝海LDS-50C-C30E雷达，使用网口与工控机进行通讯，考虑到这款雷达可能不易在市场上购得，我们也测试过使用比较易得的镭神N10P系列雷达，大家可以根据手头的雷达安装孔位进行修改





## 底盘主控设计

更新时间24.1.20，版本1.1

### 1.1版本

初版底盘控制板采用合宙ESP32S3作为主控，工控机通过网口连接板载的有人双路UART转以太网模块USR-TCP232-E连接底盘主控以及串口屏，后续将上传以树莓派PICO作为主控，通过UART串口转USB模块与工控机进行通讯的方案

该版本的主要的考虑到的设计要点如下：

1. 尽可能减少贴片与插件元件的焊接，尽可能使用现有模块
2. 使用485总线转UART模块控制微雪伺服轮毂电机
3. 能控制双路有刷电池
4. 拥有外置灯效与按钮控制接口
5. 双路12V电源输出，支持的最大电流应保证在3A以上
6. 使用双路UART转以太网模块与工控机进行通讯，主控Type-C接口主要用于供电，后期将脱离使用
7. 底盘主控使用FreeRTOS系统，但为方便初学者烧录使用Arduino或PlatformIO作为开发平台



## 控制系统框架

更新时间24.1.20

底盘使用搭建了Ubuntu20.04.6操作系统的ROS [Noetic](http://wiki.ros.org/noetic/Installation/Ubuntu)作为机器人系统框架

相关例程适配代码将在后续更新中提供





## 物料清单及配件说明

本车物料均可于淘宝平台上购买、加工

主要元件为：

| 元件          | 型号                                                         | 参考价格 |
| ------------- | ------------------------------------------------------------ | -------- |
| TOF激光雷达   | [蓝海LDS-50C-C30E](https://detail.tmall.com/item.htm?abbucket=15&id=670105361941&ns=1&spm=a21n57.1.0.0.84be523c9XVvoY&skuId=4998133087692) | 2000     |
| TOF激光雷达   | [镭神N10P](https://item.taobao.com/item.htm?abbucket=17&id=661905067052&ns=1&skuId=5100312911950&spm=a21n57.1.0.0.7954523cFb5GtM) | 571.2    |
| 轮毂电机      | [微雪DDSM115直驱伺服电机](https://detail.tmall.com/item.htm?abbucket=15&id=693013835916&ns=1&spm=a21n57.1.0.0.84be523c9XVvoY&skuId=5007908084297) | 392      |
| N100工控机    | [T8PLUS/N100/DDR5](https://item.taobao.com/item.htm?_u=l209b8sqkl6bb5&id=690024926005&spm=a1z09.2.0.0.533a2e8dcV89pz&sku_properties=5919063:25703169219) | 740      |
| 14.8V锂电池组 | [亿森能14.8V10500毫安](https://item.taobao.com/item.htm?_u=l209b8sqkle3cb&id=723067674262&spm=a1z09.2.0.0.533a2e8dcV89pz) | 160      |
| 金属板材切割  | [5052铝板加工](https://item.taobao.com/item.htm?_u=l209b8sqkl377d&id=638490665708&spm=a1z09.2.0.0.418e2e8dOwLTBY) | 230~260  |

详细的物料清单将于下一更新中提供



## 上传说明

最近一次上传更新时间为24.1.20，整体版本1.0

项目文件与代码正在陆续上传更新中

***24.1.20*** 第一次上传，主要包括整车的结构设计、初版底盘控制板文件和简单物料清单

***24.1.22*** 第二次上传，修正了第一次上传中整车的结构设计细节，更新了说明资料包括图片、加工文件、模块说明文件，上传了相关配件的初版物料清单



## 更新计划

下一上传时间预计在24.1.25日前，预期更新版本为1.0

1. 增加整车的结构扩展说明，包括机械臂及举升平台的拓展设计安装方案
2. 更新整车的结构设计细节说明，同时准备上传ROS相关控制程序及初版说明
3. 增加对整体设计的说明
4. 更新参考资料及相关说明



## 收集意见

希望大家能在issues中提出你们对小车的改进与应用意见，我们将会及时回复并在整理后以月报进行发布



## 关于我们

本项目来自西南交通大学工训中心A510实验室团队
